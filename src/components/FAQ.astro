---
import { ChevronDown } from "@lucide/astro";
---

<section class="faq-section" id="faq-section">
  <div class="up-part">
    <div class="info-container">
      <h2>Preguntas Frecuentes</h2>
      <p>
        Aquí encontrarás respuestas a las preguntas más comunes sobre nuestros
        servicios y proyectos. Si tienes alguna otra duda, no dudes en
        contactarnos.
      </p>
    </div>

    <div class="faq-image-container">
      <img src="/faq2-without-bg.png" alt="Imagen de preguntas frecuentes" />
    </div>
  </div>

  <div class="down-part">
    <div class="map">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3966.2951900063044!2d-75.58939488845944!3d6.224754593737349!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e4429c8589bd87f%3A0xd2811bf65e7c62b5!2sHidroval%20SAS!5e0!3m2!1ses-419!2sco!4v1748408470113!5m2!1ses-419!2sco"
        width="600"
        height="450"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>

    <div class="faqs">
      <h5>Algunas preguntas frecuentes</h5>
      <div class="accordion">
        <div class="accordion-item">
          <button class="accordion-question"
            >¿En dónde se encuentran ubicados?
            <span class="chevron"><ChevronDown /></span></button
          >
          <div class="accordion-answer">
            <p>
              Nos pueden encontrar en la <strong
                >Carrera 65G #24 - 32, Guayabal</strong
              >, cerca al Aeropuerto Olaya Herrera. Les dejamos un mapa para que
              puedan ubicarnos fácilmente.
            </p>
          </div>
        </div>
        <div class="accordion-item">
          <button class="accordion-question"
            >¿Hacen asesorías técnicas?
            <span class="chevron"><ChevronDown /></span></button
          >
          <div class="accordion-answer">
            <p>
              Si, Hidroval S.A.S realiza asesorías técnicas, al igual que
              capacitaciones.
            </p>
          </div>
        </div>
        <div class="accordion-item">
          <button class="accordion-question"
            >¿Hacen sistemas de bombeo para plantas de aguas residuales? <span
              class="chevron"><ChevronDown /></span
            ></button
          >
          <div class="accordion-answer">
            <p>
              Si, se realizan todo tipo de sistemas de bombeos incluyendo para
              plantas de aguas residuales.
            </p>
          </div>
        </div>
        <div class="accordion-item">
          <button class="accordion-question"
            >¿Realizan procesos de pintura?<span class="chevron"
              ><ChevronDown /></span
            ></button
          >
          <div class="accordion-answer">
            <p>
              Si, se realizan distintos procesos de pintura. También se hacen
              operaciones de sandblasting.
            </p>
          </div>
        </div>
        <div class="accordion-item">
          <button class="accordion-question"
            >¿Qué horarios de atención tienen?<span class="chevron"
              ><ChevronDown /></span
            ></button
          >
          <div class="accordion-answer">
            <p>
              <strong>Lunes a viernes:</strong> 7:00 a.m. – 5:00 p.m.<br />
              <strong>Sábado:</strong> 8:00 a.m. – 12:00 m.<br />
              <strong>Domingos y festivos:</strong> Cerrado
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .faq-section {
    width: 100%;
  }

  .faq-section h2 {
    font-size: clamp(1.3rem, 3vw, 2rem);
  }

  .faq-section h5,
  .faq-section h3 {
    font-size: clamp(1.1rem, 2.2vw, 1.4rem);
  }

  .up-part {
    width: 100%;
    display: flex;
    align-items: center;
  }

  .down-part {
    width: 100%;
    display: flex;
    gap: 2rem;
    margin-top: 3rem;
  }

  .map {
    position: relative;
    width: 100%;
    max-width:55%;
    aspect-ratio: 16 / 9;
    margin: 0 auto;
    overflow: hidden;
    border-radius: 0.5rem;
  }

  .map iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
  }

  .faqs {
    flex: 1;
  }

  .faq-section p,
  .accordion-answer p {
    font-size: clamp(0.98rem, 1.7vw, 1.13rem);
  }

  .accordion {
    width: 100%;
    max-width: 800px;
    margin: 2rem auto 0 auto;
    min-height: 450px;
    transition: min-height 0.3s;
  }

  .accordion-item {
    border-bottom: 1px solid #e0e0e0;
  }

  .accordion-question {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    width: 100%;
    background: none;
    border: none;
    text-align: left;
    padding: 1rem;
    font-size: 1.08rem;
    font-weight: bold;
    cursor: pointer;
    outline: none;
    transition: background 0.2s;
  }
  .accordion-question:hover,
  .accordion-question.active {
    background: rgb(var(--gray-light), 0.5);
  }
  .accordion-answer {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    padding: 0 1rem;
    background: #fafbfc;
    font-size: clamp(1rem, 2vw, 1.15rem);
  }
  .accordion-item.open .accordion-answer {
    max-height: 200px;
    padding-bottom: 1rem;
  }

  .chevron {
    display: flex;
    transition: transform 0.3s;
  }
  .accordion-item.open .chevron {
    transform: rotate(180deg);
  }

  @media (max-width: 768px) {
    .faq-section {
      margin: 5rem auto;
      flex-direction: column;
    }
    .up-part {
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    .down-part {
      flex-direction: column;
    }

    .faq-image-container img {
      width: 100%;
      max-width: 400px;
    }

    .map {
      height: 0;
      padding-bottom: 56.25%;
      max-width: 100%;
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const items = document.querySelectorAll(".accordion-item");
    items.forEach((item) => {
      const btn = item.querySelector(".accordion-question");
      btn?.addEventListener("click", () => {
        items.forEach((i) => {
          if (i !== item) i.classList.remove("open");
        });
        item.classList.toggle("open");
      });
    });
  });
</script>
